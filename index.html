<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>RPG –í—ã–±–æ—Ä</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        body {
            background: radial-gradient(circle, #2c1f05 0%, #000000 100%);
            color: white;
            font-family: 'Segoe UI', sans-serif;
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            overflow: hidden;
        }

        h2 { margin: 20px 0; text-shadow: 0 0 10px #edb432; font-size: 1.2rem; }

        .cards-container {
            display: flex;
            gap: 15px;
            overflow-x: auto;
            width: 100%;
            padding: 20px;
            perspective: 1000px; /* –ù—É–∂–Ω–æ –¥–ª—è 3D —ç—Ñ—Ñ–µ–∫—Ç–∞ */
            box-sizing: border-box;
        }

        /* –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è –≤—Ä–∞—â–µ–Ω–∏—è */
        .card-wrapper {
            min-width: 260px;
            height: 380px;
            cursor: pointer;
            position: relative;
            transform-style: preserve-3d;
            transition: transform 0.6s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .card-wrapper.flipped {
            transform: rotateY(180deg);
        }

        .card-front, .card-back {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            border-radius: 20px;
            border: 2px solid #edb432;
            display: flex;
            flex-direction: column;
            align-items: center;
            background: #1a1a1a;
            box-sizing: border-box;
            padding: 15px;
        }

        /* –õ–∏—Ü–µ–≤–∞—è —Å—Ç–æ—Ä–æ–Ω–∞ */
        .card-front img {
            width: 100%;
            border-radius: 12px;
            margin-bottom: 10px;
        }

        /* –û–±—Ä–∞—Ç–Ω–∞—è —Å—Ç–æ—Ä–æ–Ω–∞ */
        .card-back {
            transform: rotateY(180deg);
            background: linear-gradient(135deg, #1a1a1a 0%, #2a2a2a 100%);
            justify-content: center;
            text-align: center;
        }

        .bonus-title { color: #edb432; font-size: 1.2rem; margin-bottom: 15px; font-weight: bold; }
        .bonus-item { margin: 10px 0; font-size: 1rem; color: #ddd; }
        
        .select-btn {
            background: #edb432;
            color: black;
            border: none;
            padding: 12px 20px;
            border-radius: 10px;
            font-weight: bold;
            margin-top: 15px;
            width: 80%;
        }

        .card-wrapper.selected .card-front, 
        .card-wrapper.selected .card-back {
            box-shadow: 0 0 25px #edb432;
        }
    </style>
</head>
<body>

    <h2 id="name">–í—ã–±–µ—Ä–∏ —á–µ–º–ø–∏–æ–Ω–∞</h2>

    <div class="cards-container">
        
        <div class="card-wrapper" id="w-tsar" onclick="flipCard(this)">
            <div class="card-front">
                <img src="1.png">
                <h3>–¶–∞—Ä—å</h3>
                <p>–ù–∞–∂–º–∏, —á—Ç–æ–±—ã —É–∑–Ω–∞—Ç—å –±–æ–Ω—É—Å—ã</p>
            </div>
            <div class="card-back">
                <div class="bonus-title">–ë–û–ù–£–°–´ –¶–ê–†–Ø</div>
                <div class="bonus-item">‚öîÔ∏è –£—Ä–æ–Ω: +20%</div>
                <div class="bonus-item">üî• –ù–∞–≤—ã–∫: –î–≤–æ–π–Ω–æ–π —É–¥–∞—Ä</div>
                <button class="select-btn" onclick="confirmSelection(event, '–¶–∞—Ä—å', 'tsar')">–í–´–ë–†–ê–¢–¨</button>
            </div>
        </div>

        <div class="card-wrapper" id="w-sultan" onclick="flipCard(this)">
            <div class="card-front">
                <img src="2.png">
                <h3>–°—É–ª—Ç–∞–Ω</h3>
                <p>–ù–∞–∂–º–∏, —á—Ç–æ–±—ã —É–∑–Ω–∞—Ç—å –±–æ–Ω—É—Å—ã</p>
            </div>
            <div class="card-back">
                <div class="bonus-title">–ë–û–ù–£–°–´ –°–£–õ–¢–ê–ù–ê</div>
                <div class="bonus-item">‚ö° –ö—Ä–∏—Ç: +15%</div>
                <div class="bonus-item">üí® –ù–∞–≤—ã–∫: –£–∫–ª–æ–Ω–µ–Ω–∏–µ</div>
                <button class="select-btn" onclick="confirmSelection(event, '–°—É–ª—Ç–∞–Ω', 'sultan')">–í–´–ë–†–ê–¢–¨</button>
            </div>
        </div>

        <div class="card-wrapper" id="w-king" onclick="flipCard(this)">
            <div class="card-front">
                <img src="3.png">
                <h3>–ö–æ—Ä–æ–ª—å</h3>
                <p>–ù–∞–∂–º–∏, —á—Ç–æ–±—ã —É–∑–Ω–∞—Ç—å –±–æ–Ω—É—Å—ã</p>
            </div>
            <div class="card-back">
                <div class="bonus-title">–ë–û–ù–£–°–´ –ö–û–†–û–õ–Ø</div>
                <div class="bonus-item">‚ù§Ô∏è –•–ü: +30%</div>
                <div class="bonus-item">üõ°Ô∏è –ù–∞–≤—ã–∫: –û—Ç—Ä–∞–∂–µ–Ω–∏–µ</div>
                <button class="select-btn" onclick="confirmSelection(event, '–ö–æ—Ä–æ–ª—å', 'king')">–í–´–ë–†–ê–¢–¨</button>
            </div>
        </div>

    </div>

    <script>
        const tg = window.Telegram.WebApp;
        tg.expand();

        // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∏–º—è –∏–≥—Ä–æ–∫–∞
        if (tg.initDataUnsafe?.user) {
            document.getElementById('name').innerText = tg.initDataUnsafe.user.first_name + ", –≤—ã–±–µ—Ä–∏ –≥–µ—Ä–æ—è";
        }

        // –§—É–Ω–∫—Ü–∏—è –ø–µ—Ä–µ–≤–æ—Ä–æ—Ç–∞
        function flipCard(el) {
            el.classList.toggle('flipped');
            if (tg.HapticFeedback) tg.HapticFeedback.impactOccurred('light');
        }

        // –§—É–Ω–∫—Ü–∏—è –≤—ã–±–æ—Ä–∞ (—á—Ç–æ–±—ã –Ω–∞–∂–∞—Ç–∏–µ –∫–Ω–æ–ø–∫–∏ –Ω–µ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–ª–æ –∫–∞–∫ –ø–µ—Ä–µ–≤–æ—Ä–æ—Ç, –∏—Å–ø–æ–ª—å–∑—É–µ–º stopPropagation)
        function confirmSelection(event, name, id) {
            event.stopPropagation(); // –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –ø–µ—Ä–µ–≤–æ—Ä–æ—Ç –ø—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ –∫–Ω–æ–ø–∫—É
            
            document.querySelectorAll('.card-wrapper').forEach(c => c.classList.remove('selected'));
            document.getElementById('w-' + id).classList.add('selected');

            tg.MainButton.setText("–ò–ì–†–ê–¢–¨ –ó–ê " + name.toUpperCase());
            tg.MainButton.show();
            
            if (tg.HapticFeedback) tg.HapticFeedback.notificationOccurred('success');
        }
    </script>
</body>
</html>
